(()=>{var ce=Object.defineProperty,ae=Object.defineProperties;var le=Object.getOwnPropertyDescriptors;var Q=Object.getOwnPropertySymbols;var de=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable;var X=(e,n,t)=>n in e?ce(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,C=(e,n)=>{for(var t in n||(n={}))de.call(n,t)&&X(e,t,n[t]);if(Q)for(var t of Q(n))pe.call(n,t)&&X(e,t,n[t]);return e},M=(e,n)=>ae(e,le(n));var k="storage";function Y(e){k=e}function ue(){let e=JSON.parse(localStorage.getItem(k))||{};for(let n in e)if(e.hasOwnProperty(n)){let t=e[n][1]||0;t&&t<L()&&(delete e[n],x(n,null))}return e}function v(e){let n=ue();return n[e]&&n[e][0]||null}function x(e,n,t){let r=JSON.parse(localStorage.getItem(k))||{};n?r[e]=[n,t?L()+t:0]:delete r[e],localStorage.setItem(k,JSON.stringify(r)),fe()}function Z(e){x(e,null)}function L(){return Math.floor(Date.now()/1e3)}function fe(){let e=JSON.parse(localStorage.getItem(k));for(let n in e)if(e.hasOwnProperty(n)){let t=e[n][1]||0;t&&t<L()&&delete e[n]}localStorage.setItem(k,JSON.stringify(e))}function j(){console.log("%cLucead","background:#EEE;color:#2A4B9A;border-radius:4px;padding:2px",...arguments)}function $(){console.error("%cLucead","background:#EEE;color:#4EA05D;border-radius:4px;padding:2px",...arguments)}function K(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"m":"d"}function R(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}function q(){let n=location.hash.replace("#","").split("&"),t={},r="lucead-";for(let o of n){let[i,a]=o.split("=");t[i.replace(r,"")]=a}return t}function ee(e){return new Promise((n,t)=>{let r=document.createElement("script");r.src=e,r.onload=n,r.onerror=t,document.head.appendChild(r)})}var oe="v1203.1",me=1600,te=!1,B=!1,re=!0,he=!0,_e=!1,Ge=window.rtbpbjs||window.pbjs||window._abPbJs,m=window.lucead_site,J=window.location.hash.includes("prebid-dev"),ne=0,N="https://lucead.com",we="https://lucead.com",ye="https://s.lucead.com",z=q(),ie;function se(){let e={ver:"1.0",complete:1,nodes:[]};return m!=null&&m.schain_domain&&(m!=null&&m.schain_id)&&e.nodes.push({asi:m.schain_domain,sid:m.schain_id,hp:1}),e}function be(){return`${Math.trunc(Math.random()*1e9)}`}async function ve(e){if(v("country"))return v("country");try{e=e.replace("/go","");let n=await fetch(`${e}/go/country`).then(t=>t.text());return x("country",n,86400*30),n}catch(n){return null}}function xe(){let e="mesured";if(v(e))return;x(e,"1",86400*7);let n=!!navigator.runAdAuction,t=!!document.browsingTopics,r=`${N}/go/report/features?is_chrome=${R()?1:0}&pa_on=${n?1:0}&topics_on=${t?1:0}`;fetch(r)}async function S(e,n={}){let t=new AbortController,r=setTimeout(()=>t.abort(),me);try{let o=await fetch(e,M(C({},n),{signal:t.signal,credentials:"include"}));return clearTimeout(r),o}catch(o){return clearTimeout(r),null}}function W(e,n=null,t=null){if(!e)return null;if(n&&t){let r=JSON.stringify({ssp:n,placement_id:t,domain:location.hostname,metric:"renders"});e+=`<script>navigator.sendBeacon('${N}/go/report/event','${r}');<\/script>`;let o={grid:39534936,magnite:39534938,criteo:39534939};o[n]&&(new Image().src=`https://www8.smartadserver.com/imp?imgid=${o[n]}&tmstp=${Date.now()}&tgt=`)}return e.includes("<html")?e:`<html lang="en"><body style="margin:0;background-color:#FFF">${e}</body></html>`}function E(e,n){var o,i,a,s,h,d,u,c,l,_;let t=e.ortbConverter({}).toORTB({bidRequests:[n],bidderRequest:e.bidderRequest});if((o=t==null?void 0:t.device)!=null&&o.geo&&(delete t.device.devicetype,delete t.device.flashver,delete t.device.js,delete t.device.lmt,delete t.device.pxratio,delete t.device.ppi,delete t.device.language,delete t.site.mobile,delete t.device.carrier,delete t.device.ip,delete t.device.geo,delete t.device.geofetch,delete t.content,delete t.cur,delete t.publisher,delete t.site.cat,delete t.site.name,delete t.site.pagecat,delete t.site.privacypolicy,delete t.site.sectioncat),e.consent?(e.deepSetValue(t,"user.ext.consent",(i=e==null?void 0:e.consent)==null?void 0:i.tcString),e.deepSetValue(t,"regs.ext.gdpr",(a=e==null?void 0:e.consent)!=null&&a.gdprApplies?1:0)):e.deepSetValue(t,"regs.ext.gdpr",0),(s=t.imp)!=null&&s.length&&((h=n==null?void 0:n.sizes)!=null&&h.length)){for(let I of t.imp)if(I.banner.w=n.sizes[0][0],I.banner.h=n.sizes[0][1],m.id&&((d=n==null?void 0:n.params)!=null&&d.placementId)){let A=location.hostname+"_"+((u=n==null?void 0:n.params)==null?void 0:u.placementId);I.tagid=A,e.deepSetValue(I,"ext.gpid",A)}}(l=(c=t==null?void 0:t.source)==null?void 0:c.ext)!=null&&l.wrapper||(e.deepSetValue(t,"source.ext.wrapper","Prebid_js"),e.deepSetValue(t,"source.ext.wrapper_version",(e==null?void 0:e.prebid_version)||((_=window==null?void 0:window.pbjs)==null?void 0:_.version))),n!=null&&n.userIdAsEids&&e.deepSetValue(t,"user.ext.eids",n.userIdAsEids);let r=se();return r&&e.deepSetValue(t,"source.ext.schain",r),t}function D(e,n=null,t=null){var i;if(!((i=e==null?void 0:e.seatbid)!=null&&i.length))return null;let r=e.seatbid[0].bid.filter(a=>a&&a.price>0&&a.adm);r.sort((a,s)=>s.price-a.price);let o=r[0];return{cpm:(o==null?void 0:o.price)||0,currency:e.cur||"USD",ad:W((o==null?void 0:o.adm)||null,n,t),size:{width:o==null?void 0:o.w,height:o==null?void 0:o.h},ssp:n,advertiser_domains:(o==null?void 0:o.adomain)||null}}async function Ie(){return new Promise(e=>{window.__tcfapi?window.__tcfapi("getTCData",2,(n,t)=>{e(t?n:null)}):e(null)})}function Se(e){if(v("sync"))return;x("sync",1,86400);let n=`gdpr=${Number(e==null?void 0:e.gdprApplies)}&gdpr_consent=${e==null?void 0:e.tcString}`,t=[`https://hb.360yield.com/prebid-universal-creative/load-cookie.html?pbs=1&${n}`,`https://eus.rubiconproject.com/usync.html?${n}`];for(let r of t){let o=document.createElement("iframe");o.id="lucead-cookie-sync",o.src=r,o.style.display="none",document.body.appendChild(o)}}async function Oe(e){try{return await fetch(`${e.static_url}/prebid/site?p=`+e.bidRequests[0].params.placementId).then(n=>n.json())}catch(n){return null}}async function ke({base_url:e,sizes:n,placement_id:t,bidRequest:r,bidderRequest:o,is_sra:i,endpoint_url:a}){n||(n=[{width:300,height:250}]);let s=e,h=K(),d=.4,u=v(`wins:${r.adUnitCode}`);u&&(d=u.cpm);let c={seller:s,topWindowHostname:location.hostname,decisionLogicUrl:`${s}/js/ssp.js`,interestGroupBuyers:[s,"https://ps.avads.net"],auctionSignals:{sizes:n,placement_id:t,page:location.href,floor:J?.01:d,floor_currency:"USD",country:ie},requestedSize:n[0],sellerSignals:{},sellerCurrency:"USD",perBuyerSignals:{[s]:{prebid_bid_id:r==null?void 0:r.bidId,prebid_request_id:window.lucead_request_id||(o==null?void 0:o.bidderRequestId),prerender:te,placement_id:t,floor:d,is_sra:i,endpoint_url:a,device:h,is_dev:J},"https://ps.avads.net":{currency:"EUR"}},resolveToConfig:!1,dataVersion:2,deprecatedReplaceInURN:{"${PLACEMENT_ID}":t,"${DOMAIN}":location.hostname}},l;if(!navigator.runAdAuction||location.hash.includes("skip-pa")?l=null:l=await navigator.runAdAuction(c),l){if(await navigator.deprecatedReplaceInURN(l,{"${PLACEMENT_ID}":t,"${DOMAIN}":location.hostname}),te){let _=document.createElement("iframe");_.src=l,_.style.display="none",document.body.appendChild(_),_.remove()}return{bid_id:r==null?void 0:r.bidId,ad:W(`<iframe src="${l}" style="width:100%;height:100%;border:none;overflow:hidden" seamless="seamless" scrolling="no" ></iframe>`),is_pa:!0,placement_id:t,cpm:d,currency:"USD"}}else return null}var G=null;async function je(e){let n=e.site;return ie=await ve(N),await Promise.all(e.bidRequests.map(async(t,r)=>{var a,s,h,d,u,c,l,_,I,A,F,H;let o={bid_id:t==null?void 0:t.bidId,bid:0,ad:null,size:null,placement_id:((a=t==null?void 0:t.params)==null?void 0:a.placementId)||e.placement_id},i=t.sizes.map(y=>({width:y[0],height:y[1]}));try{let y=(s=t==null?void 0:t.params)==null?void 0:s.placementId,T=B?`cache-${y}-${r}-`+i.map(f=>`${f.width}x${f.height}`).join("-"):null;if(!y)return o;if(he){if(!G)G=Date.now();else if(G<Date.now()-3e4)return o}if(B&&T){let f=v(T);if(f)return f.bid_id=t.bidId,f}let p=n.placements[y]||null,b=M(C({},e),{data:e,placement:p,placement_id:y,bidRequest:t,bid_request:t}),w=[];if(w.push(ke(b)),(h=p==null?void 0:p.ssps)!=null&&h.improve&&w.push($e(b)),(d=p==null?void 0:p.ssps)!=null&&d.grid&&w.push(Ne(b)),(u=p==null?void 0:p.ssps)!=null&&u.criteo&&w.push(Ee(b)),(c=p==null?void 0:p.ssps)!=null&&c.smart&&w.push(Ce(b)),(l=p==null?void 0:p.ssps)!=null&&l.pubmatic&&w.push(Ue(b)),(_=p==null?void 0:p.ssps)!=null&&_.magnite&&w.push(Je(b)),(I=p==null?void 0:p.ssps)!=null&&I.unruly&&w.push(De(b)),(A=p==null?void 0:p.ssps)!=null&&A.amazon&&w.push(Pe(b)),!w.length)return o;let g=await Promise.all(w);if(g===null||!(g!=null&&g.length))return o;if(g!=null&&g.length&&((F=g[0])!=null&&F.is_pa))return g[0];if(g=g.filter(f=>f&&f.cpm),g!=null&&g.length){(H=g[0])!=null&&H.is_pa||g.sort((O,V)=>((V==null?void 0:V.cpm)||0)-((O==null?void 0:O.cpm)||0));let f=g[0];if(f.ssp&&(f.cpm*=.68),f.bid_id=t.bidId,f.placement_id=y,B&&T){let O=`<script class="lucead-rendered">top.lucead_rendered("${T}");<\/script>`;f.ad.includes("</body>")?f.ad=f.ad.replace("</body>",O+"</body>"):f.ad+=O,x(T,f,60)}return f}else return o}catch(y){return $(y),o}}))}function Ae(){if(window.pbjs)return window.pbjs;for(let e in window)if(e.length>=4&&window[e]&&window[e].que&&typeof window[e].que.push=="function"&&window[e].requestBids)return window[e];return null}function Te(){if(window.lucead_stws)return;window.lucead_stws=!0,Ae().onEvent("auctionEnd",n=>{var t;if((t=n.winningBids)!=null&&t.length)for(let r of n.winningBids)x("wins:"+r.adUnitCode,{bidderCode:r.bidderCode,cpm:r.getCpmInNewCurrency("USD")},86400)})}async function U(e){let n=window.lucead_request_id||e.request_id;m||(m=await Oe(e)),m!=null&&m.js&&(0,eval)(m.js),e.endpoint_url&&(N=e.endpoint_url.replace("/go","")),e.base_url&&(we=e.base_url),ze(e),Te(),e.site=m,e.consent=await Ie(),(J||z.log)&&j("Lucead for Prebid ",oe,e);let t=null;re&&setTimeout(()=>Se(e.consent),5e3),_e&&setTimeout(xe,5e3);let r=Date.now();try{t=await je(e)}catch(o){$(o)}fetch(`${N}/go/prebid/pub`,{method:"POST",contentType:"text/plain",body:JSON.stringify({request_id:n,pa_enabled:"runAdAuction"in navigator?"on":"off",domain:location.hostname,responses:t,is_sra:e.is_sra,request_key:ne,duration:Date.now()-r})}).catch($),++ne}window.lucead_rendered=function(e){j("rendered",v(e)),Z(e)};function P(e,n){return z.mock===e?`https://adapting-opossum-stunning.ngrok-free.app/test-prebid?mock=${e}`:n}async function $e({placement:e,data:n,bidRequest:t,prebid_version:r}){var s,h,d,u,c;let o=e.ssps.improve.ssp_placement_id.toString().split(":"),i=P("improve","https://ad.360yield.com"+(o.length===2?"/"+o[0]:"")+"/pb");z.debug&&(i+="?debug=1&ivt_bypass=1");let a=E(n,t);a.imp=[{ext:{tid:a.source.tid,bidder:o.length===2?{placementId:parseInt(o[1])||22511670,publisherId:parseInt(o[0])||1159}:{placementId:parseInt(o[0])||22511670}},banner:{topframe:1},id:t.bidId,secure:1}],a.imp[0].banner.format=t.sizes.map(l=>({w:l[0],h:l[1]})),a.id=t.bidderRequestId,a.ext={improvedigital:{sdk:{name:"pbjs",version:r||"9.15.0"}}};try{let l=await S(i,{method:"POST",contentType:"text/plain",body:JSON.stringify(a)});if((l==null?void 0:l.status)!==200)return null;if(l=await l.json(),re&&((h=(s=l.ext)==null?void 0:s.improvedigital)!=null&&h.sync))for(let _ of(d=l.ext.improvedigital)==null?void 0:d.sync)new Image().src=_;return!(l!=null&&l.seatbid)||!((c=(u=l==null?void 0:l.seatbid[0])==null?void 0:u.bid[0])!=null&&c.price)?null:(l=D(l,"improve",e.id),l)}catch(l){return $(l),null}}async function Ne({placement:e,data:n,bidRequest:t}){let r=P("grid","https://grid.bidswitch.net/hbjson"),o=E(n,t);o.imp[0].tagid=e.ssps.grid.ssp_placement_id.toString(),delete o.source.ext.schain;try{let i=await S(r,{method:"POST",contentType:"text/plain",body:JSON.stringify(o)});return(i==null?void 0:i.status)!==200?null:(i=await i.json(),D(i,"grid",e.id))}catch(i){return console.error(i),null}}async function Ee({placement:e,data:n,bidRequest:t,prebid_version:r,deepSetValue:o}){let i=e.ssps.criteo.ssp_placement_id.toString().split(":"),h=P("criteo",`https://grid-bidder.criteo.com/openrtb_2_5/pbjs/auction/request?profileId=207&av=${String(37)}&wv=${encodeURIComponent(r||"9.15.0")}&cb=${String(Math.floor(Math.random()*99999999999))}&lsavail=1&networkId=${i[0]}`);z.debug&&(h+="&debug=1");let d=E(n,t);delete d.imp[0].banner.w,delete d.imp[0].banner.h,d.imp[0].ext.bidder={publishersubid:e.id,uid:i[2]||""},e.ssps.criteo.floor&&(d.imp[0].bidfloor=e.ssps.criteo.floor,d.imp[0].bidfloorcur="USD"),i[1]&&o(d,"site.publisher.id",i[1]),o(d,"publisher.url",location.href);try{let u=await S(h,{method:"POST",contentType:"text/plain",body:JSON.stringify(d)});return(u==null?void 0:u.status)!==200?null:(u=await u.json(),D(u,"criteo",e.id))}catch(u){return console.error(u),null}}async function De({placement:e,data:n,bidRequest:t}){let r="https://targeting.unrulymedia.com/unruly_prebid",o=C({},n.bidderRequest);o.bids=[t],o.bids[0].params.endpoint={siteId:parseint(e.ssps.unruly.ssp_placement_id)};try{let i=await S(r,{method:"POST",contentType:"text/plain",body:JSON.stringify({bidderRequest:o})});return(i==null?void 0:i.status)!==200?(j("Criteo response not ok",i),null):(i=await i.json(),i.bids[0])}catch(i){return console.error(i),null}}async function Pe({placement:e}){let n={src:600,u:"https://adapting-opossum-stunning.ngrok-free.app/test-amazon.php",pid:"O4mON3Hn3L4Js",cb:0,ws:"1792x481",v:"24.910.1025",t:"2000",slots:'[{"sd":"test-slot-id","s":["300x250","300x600"],"sn":"test-slot-name"}]',pubid:"6bbeeb6f-714d-47ea-8434-a3c90bec82f4",gdprl:'{"status":"no-cmp"}'};console.log(e);let t="https://aax.amazon-adsystem.com/e/dtb/bid?".Object.keys(n).map(o=>`${o}=${encodeURIComponent(n[o])}`).join("&"),r=await fetch(t).then(o=>o.text()).then(o=>console.log(o));console.log(r)}async function Ce({placement:e,sizes:n,size:t,prebid_version:r,transaction_id:o,bid_id:i,ad_unit_code:a,consent:s}){let h="https://prg.smartadserver.com/prebid/v1",d=e.ssps.smart.ssp_placement_id.toString().split(":").map(c=>parseInt(c));if(d.length<3)return null;let u={siteid:d[0]||351627,pageid:d[1]||1232283,formatid:d[2]||88269,ckid:d[3]||0,tagId:a,pageDomain:location.href,transactionId:o,timeout:3e3,bidId:i,prebidVersion:r||"8.37.0",schain:se(),gpid:a,sizes:n.map(c=>({w:c[0],h:c[1]})),bidfloor:0,gdpr_consent:(s==null?void 0:s.tcString)||null};try{let c=await S(h,{method:"POST",contentType:"text/plain",body:JSON.stringify(u)});return!(c!=null&&c.ok)||(c==null?void 0:c.status)!==200||c.headers.get("content-length")==="0"?(j("Response not ok",c),null):(c=await c.json(),c?{cpm:(c==null?void 0:c.cpm)||0,currency:(c==null?void 0:c.currency)||"USD",ad:c!=null&&c.ad?W(c.ad):null,size:{width:c.width||t.width,height:c.height||t.height},ssp:"smart"}:null)}catch(c){return console.error(c),null}}async function Ue({placement:e,data:n,bidRequest:t}){let r=P("pubmatic","https://hbopenbid.pubmatic.com/translator?source=prebid-client"),[o,i]=e.ssps.pubmatic.ssp_placement_id.toString().split(":"),a=E(n,t);a.at=1,a.cur=["USD"],a.imp[0].tagid=i,a.imp[0].secure=1,a.imp[0].banner.pos="0",a.site.publisher.id=o;try{let s=await S(r,{method:"POST",contentType:"text/plain",body:JSON.stringify(a)});return s!=null&&s.ok?(s=await s.json(),D(s,"pubmatic",e.id)):(j("Response not ok",s),null)}catch(s){return console.error(s),null}}async function Je({placement:e,ad_unit_code:n,data:t,bidRequest:r}){let o=P("magnite","https://prebid-server.rubiconproject.com/openrtb2/auction"),i=e.ssps.magnite.ssp_placement_id.toString().split(":").map(s=>parseInt(s));if(i.length<3)return null;let a=E(t,r);a.imp[0].ext.prebid={bidder:{rubicon:{video:{},accountId:i[0],siteId:i[1],zoneId:i[2]}},adunitcode:n};try{let s=await S(o,{method:"POST",contentType:"text/plain",body:JSON.stringify(a)});return s!=null&&s.ok?(s=await s.json(),D(s,"magnite",e.id)):null}catch(s){return console.error(s),null}}function ze(e){let n="ig-joined-global2",t="1805860168";!navigator.runAdAuction||v(n)||setTimeout(()=>{x(n,Date.now().toString(),86400*7),ee(`${e.static_url||ye}/tag/${t}.js`)},6e3)}async function Ve(){if(Y("lucead"),window.lucead_prebid_data)if(Array.isArray(window.lucead_prebid_data))for(let e of window.lucead_prebid_data)U(e);else U(window.lucead_prebid_data);window.ayads_prebid=U,window.lucead_prebid=U,window.lucead_version=oe,J&&(window.lucead_request_id=be())}Ve();})();
