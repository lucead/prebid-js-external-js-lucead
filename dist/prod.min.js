(()=>{var M=Object.defineProperty,Q=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var L=(e,n,t)=>n in e?M(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,m=(e,n)=>{for(var t in n||(n={}))Y.call(n,t)&&L(e,t,n[t]);if(H)for(var t of H(n))Z.call(n,t)&&L(e,t,n[t]);return e},f=(e,n)=>Q(e,X(n));function y(){console.log("%cLucead","background:#444;color:#4EA05D;border-radius:4px;padding:2px",...arguments)}function S(){console.error("%cLucead","background:#444;color:#4EA05D;border-radius:4px;padding:2px",...arguments)}var K="v04.08.3",R=1200,q=!1;async function w(e,n={}){let{timeout:t=R}=n,s=new AbortController,i=setTimeout(()=>s.abort(),t),o=await fetch(e,f(m({},n),{signal:s.signal}));return clearTimeout(i),o}function O(e){return e?e.includes("<html")?e:`<html lang="en"><body style="margin:0;background-color:#FFF">${e}</body></html>`:null}function b(e,n){var s,i,o,r,c,a,p,g;let t=e.ortbConverter({}).toORTB({bidRequests:[n],bidderRequest:e.bidderRequest});if(e.consent&&e.deepSetValue&&(e.deepSetValue(t,"user.ext.consent",(s=e==null?void 0:e.consent)==null?void 0:s.tcString),e.deepSetValue(t,"regs.ext.gdpr",(i=e==null?void 0:e.consent)!=null&&i.gdprApplies?1:0)),(o=t.imp)!=null&&o.length)for(let l of t.imp)l.banner.w=n.sizes[0][0],l.banner.h=n.sizes[0][1];return(r=t==null?void 0:t.site)!=null&&r.page&&((c=t==null?void 0:t.site)!=null&&c.page.includes("://"))&&(t.site.page=encodeURIComponent(t.site.page)),(p=(a=t==null?void 0:t.source)==null?void 0:a.ext)!=null&&p.wrapper||(e.deepSetValue(t,"source.ext.wrapper","Prebid_js"),e.deepSetValue(t,"source.ext.wrapper_version",(e==null?void 0:e.prebid_version)||((g=window==null?void 0:window.pbjs)==null?void 0:g.version))),n!=null&&n.userIdAsEids&&e.deepSetValue(t,"user.ext.eids",n.userIdAsEids),t}function v(e,n,t=null){var o;if(!((o=e==null?void 0:e.seatbid)!=null&&o.length))return null;let s=e.seatbid[0].bid.filter(r=>r&&r.price>0&&r.adm&&r.w===n.width&&r.h===n.height);s.sort((r,c)=>c.price-r.price);let i=s[0];return i!=null&&i.price&&location.hostname!=="www.virtuafoot.com"&&fetch("https://lucead.com/log",{method:"POST",body:JSON.stringify(i)}),{cpm:(i==null?void 0:i.price)||0,currency:"USD",ad:O((i==null?void 0:i.adm)||null),size:{width:(i==null?void 0:i.w)||n.width,height:(i==null?void 0:i.h)||n.height},ssp:t,advertiser_domains:(i==null?void 0:i.adomain)||null}}async function ee(){return new Promise(e=>{window.__tcfapi?window.__tcfapi("getTCData",2,(n,t)=>{e(t?n:null)}):e(null)})}async function te(e){try{return await fetch(`${e.static_url}/placements/info?ids=`+e.bidRequests.map(n=>n==null?void 0:n.params.placementId).join(",")).then(n=>n.json())}catch(n){return null}}async function ne({base_url:e,size:n,placement_id:t,bidRequest:s,bidderRequest:i}){e||(e="https://lucead.com");let o=e.endsWith("lucead.com")?"https://ayads.io":e,r={seller:o,decisionLogicUrl:`${o}/js/ssp.js`,interestGroupBuyers:[o],auctionSignals:{size:n,placement_id:t},sellerSignals:{},sellerTimeout:1e3,sellerCurrency:"EUR",perBuyerSignals:{[o]:{prebid_bid_id:s.bidId,prebid_request_id:i.bidderRequestId}},perBuyerTimeouts:{"*":1e3},resolveToConfig:!1,dataVersion:2},c;if(!navigator.runAdAuction||location.hash.includes("skip-pa")?c=null:c=await navigator.runAdAuction(r),c){if(q){let a=document.createElement("iframe");a.src=c,a.style.display="none",document.body.appendChild(a),a.remove()}return{bid_id:s.bidId,ad:O(`<iframe src="${c}" style="width:${n.width}px;height:${n.height}px;border:none" seamless ></iframe>`),size:n,is_pa:!0}}else return null}async function ie(e){let n=e.placements_info;return await Promise.all(e.bidRequests.map(async t=>{var o,r,c,a,p,g,l,T,U,j,A,C,N,V,J,P,D,z,E,G,W,$,B;let s={bid_id:t.bidId,bid:0,ad:null,size:null};if(((o=t==null?void 0:t.params)==null?void 0:o.enableContextual)===!1)return s;let i={width:t.sizes[0][0]||300,height:t.sizes[0][1]||250};try{let d=(r=t==null?void 0:t.params)==null?void 0:r.placementId;if(!d)return s;let F=await ne(f(m({},e),{size:i,placement_id:d,data:e,bidRequest:t}));if(F)return F;if(!((c=n[d])!=null&&c.ssps))return y("No placement info",d,n),s;let h=[];if((p=(a=n[d])==null?void 0:a.ssps)!=null&&p.improve&&h.push(oe(f(m({},e),{size:i,placement_id:(l=(g=n[d])==null?void 0:g.ssps)==null?void 0:l.improve,data:e,bidRequest:t}))),(U=(T=n[d])==null?void 0:T.ssps)!=null&&U.grid&&h.push(se(f(m({},e),{size:i,placement_id:(j=n[d])==null?void 0:j.ssps.grid,deepSetValue:e.deepSetValue,data:e,bidRequest:t}))),(C=(A=n[d])==null?void 0:A.ssps)!=null&&C.smart&&h.push(le(f(m({},e),{sizes:t.sizes,size:i,placement_id:(V=(N=n[d])==null?void 0:N.ssps)==null?void 0:V.smart,transaction_id:t.transactionId,bid_id:t.bidId,ad_unit_code:t.adUnitCode,deepSetValue:e.deepSetValue,data:e,bidRequest:t}))),(P=(J=n[d])==null?void 0:J.ssps)!=null&&P.pubmatic&&h.push(ce(f(m({},e),{size:i,placement_id:(z=(D=n[d])==null?void 0:D.ssps)==null?void 0:z.pubmatic,transaction_id:t.transactionId,bid_id:t.bidId,ad_unit_code:t.adUnitCode,data:e,bidRequest:t}))),(G=(E=n[d])==null?void 0:E.ssps)!=null&&G.magnite&&h.push(ae(f(m({},e),{size:i,placement_id:($=(W=n[d])==null?void 0:W.ssps)==null?void 0:$.magnite,ad_unit_code:t.adUnitCode,data:e,bidRequest:t}))),!h.length)return s;let u=await Promise.all(h);if(u===null||!(u!=null&&u.length))return s;if(u=u.filter(_=>_&&_.cpm),u!=null&&u.length){(B=u[0])!=null&&B.is_pa||u.sort((x,I)=>((I==null?void 0:I.cpm)||0)-((x==null?void 0:x.cpm)||0));let _=u[0];return _.bid_id=t.bidId,_.size=i,_.placement_id=d,_}else return s}catch(d){return S(d),s}}))}async function re(e){let n=e.endpoint_url,t=e.request_id,[s,i]=await Promise.all([te(e),ee()]);e.consent=i,e.placements_info=s,performance.mark("lucead-start");let o=null;try{o=await ie(e)}catch(r){S(r)}performance.mark("lucead-end"),y(K,o,performance.measure("lucead-all-responses","lucead-start","lucead-end")),fetch(`${n}/prebid/pub`,{method:"POST",contentType:"text/plain",body:JSON.stringify({request_id:t,responses:o})}).catch(S)}var k=location.hash.includes("mock");async function oe({data:e,bidRequest:n,prebid_version:t,size:s,placement_id:i}){var c,a;let o=k?"?mock=improve":"https://ad.360yield.com/pb",r=b(e,n);r.imp[0].ext.bidder={placementId:i||22511670},r.ext={improvedigital:{sdk:{name:"pbjs",version:t||"8.32.0"}}};try{performance.mark("lucead-improve-start");let p=await w(o,{method:"POST",contentType:"text/plain",body:JSON.stringify(r)});return p.status!==200||(p=await p.json(),!((a=(c=p==null?void 0:p.seatbid[0])==null?void 0:c.bid[0])!=null&&a.price))?null:(performance.mark("lucead-improve-end"),v(p,s,"improve"))}catch(p){return null}}async function se({size:e,placement_id:n,data:t,bidRequest:s}){let i=k?"?mock=grid":"https://grid.bidswitch.net/hbjson",o=b(t,s);o.imp[0].tagid=n.toString();try{let r=await w(i,{method:"POST",contentType:"text/plain",body:JSON.stringify(o)});return r.status!==200?(y("Grid response not ok",r),null):(r=await r.json(),v(r,e,"grid"))}catch(r){return null}}async function le({placement_id:e,sizes:n,size:t,prebid_version:s,transaction_id:i,bid_id:o,ad_unit_code:r,consent:c}){let a="https://prg.smartadserver.com/prebid/v1",p=e.toString().split(":").map(l=>parseInt(l));if(p.length<3)return null;let g={siteid:p[0]||351627,pageid:p[1]||1232283,formatid:p[2]||88269,ckid:p[3]||0,tagId:r,pageDomain:location.href,transactionId:i,timeout:3e3,bidId:o,prebidVersion:s||"8.37.0",schain:pbjs.getConfig("schain"),gpid:r,sizes:n.map(l=>({w:l[0],h:l[1]})),bidfloor:0,gdpr_consent:(c==null?void 0:c.tcString)||null};try{let l=await w(a,{method:"POST",contentType:"text/plain",body:JSON.stringify(g)});return!l.ok||l.status!==200||l.headers.get("content-length")==="0"?(y("Response not ok",l),null):(l=await l.json(),l?{cpm:(l==null?void 0:l.cpm)||0,currency:(l==null?void 0:l.currency)||"USD",ad:l!=null&&l.ad?O(l.ad):null,size:{width:l.width||t.width,height:l.height||t.height},ssp:"smart"}:null)}catch(l){return null}}async function ce({placement_id:e,size:n,data:t,bidRequest:s}){let i=k?"?mock=pubmatic":"https://hbopenbid.pubmatic.com/translator?source=prebid-client",o=b(t,s);o.at=1,o.cur=["USD","EUR"],o.imp[0].tagid=e.toString();try{let r=await w(i,{method:"POST",contentType:"text/plain",body:JSON.stringify(o)});return r.ok?(r=await r.json(),v(r,n,"pubmatic")):(y("Response not ok",r),null)}catch(r){return null}}async function ae({placement_id:e,size:n,ad_unit_code:t,data:s,bidRequest:i}){let o=k?"?mock=magnite":"https://prebid-server.rubiconproject.com/openrtb2/auction",r=e.toString().split(":").map(a=>parseInt(a));if(r.length<3)return null;let c=b(s,i);c.imp[0].ext.prebid={bidder:{rubicon:{video:{},accountId:r[0],siteId:r[1],zoneId:r[2]}},adunitcode:t};try{let a=await w(o,{method:"POST",contentType:"text/plain",body:JSON.stringify(c)});return a.ok?(a=await a.json(),v(a,n,"magnite")):null}catch(a){return null}}window.ayads_prebid=re;window.ayads_prebid_data&&(window.ayads_prebid(window.ayads_prebid_data),delete window.ayads_prebid_data);})();
